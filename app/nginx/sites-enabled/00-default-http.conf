# Catch-all HTTP: return 404 for any host we didn't define explicitly
server {
  listen 80 default_server;
  server_name _;  # matches anything
  return 404;
}

# Catch-all HTTPS: return 404 for any host we didn't define explicitly
server {
  listen 443 ssl default_server;
  http2 on;
  server_name _;  # matches anything

  # Use any cert you already mount; wildcard/self-signed is fine here
  ssl_certificate     /etc/nginx/certs/nginx-selfsigned.crt;
  ssl_certificate_key /etc/nginx/certs/nginx-selfsigned.key;

  return 404;
}